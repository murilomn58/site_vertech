<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contato | Vertech Consultoria</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .contact-container{max-width:800px;margin:0 auto;background:white;padding:60px;border-radius:20px;box-shadow:0 10px 50px rgba(0,0,0,.08)}
        .contact-info{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:30px;margin-bottom:24px}
        .contact-item{display:flex;align-items:center;gap:15px;padding:20px;background:var(--bg-light);border-radius:10px}
        .contact-icon{width:48px;height:48px;object-fit:cover;border-radius:12px;flex-shrink:0;display:block}
        .contact-photo{width:64px;height:64px;border-radius:50%;object-fit:cover;border:3px solid var(--primary)}
        .contact-item strong{display:block;color:var(--primary-dark);margin-bottom:5px}
        .contact-item a{color:var(--primary);text-decoration:none}
        .contact-item a:hover{text-decoration:underline}
        .contact-note{color:var(--text-light);font-weight:700;margin-bottom:20px}
        .quick-actions{display:flex;gap:12px;flex-wrap:wrap;margin:20px 0 30px}
        .quick-actions a{display:inline-flex;align-items:center;gap:10px;padding:12px 18px;border-radius:10px;font-weight:700;text-decoration:none;border:2px solid var(--primary);color:var(--primary)}
        .quick-actions a.primary{background:var(--primary);color:white}
        .quick-actions a:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(59,130,246,.2)}
        form{display:grid;gap:20px}
        input,textarea,select{width:100%;padding:15px;border:2px solid #e2e8f0;border-radius:8px;font-family:inherit;font-size:16px;transition:border-color .3s}
        input:focus,textarea:focus,select:focus{outline:none;border-color:var(--primary)}
        textarea{min-height:150px;resize:vertical}
        button[type="submit"]{background:var(--primary);color:white;padding:18px;border:none;border-radius:8px;font-weight:700;font-size:18px;cursor:pointer;transition:all .3s;box-shadow:0 4px 15px rgba(59,130,246,.3)}
        button[type="submit"]:hover{background:var(--primary-dark);transform:translateY(-2px);box-shadow:0 6px 20px rgba(59,130,246,.4)}
        .feedback-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(15,23,42,.55);display:flex;align-items:center;justify-content:center;padding:20px;z-index:1000;transition:opacity .3s,visibility .3s}
        .feedback-modal.hidden{opacity:0;visibility:hidden;pointer-events:none}
        .feedback-modal .modal-content{background:white;border-radius:16px;padding:36px 32px;max-width:420px;width:100%;box-shadow:0 20px 70px rgba(15,23,42,.25);text-align:center;border:3px solid transparent;transform:translateY(0);transition:transform .3s}
        .feedback-modal .modal-title{font-size:22px;font-weight:700;margin-bottom:12px}
        .feedback-modal .modal-message{color:var(--text-light);line-height:1.6;margin-bottom:24px;font-size:17px}
        .feedback-modal button[data-modal-close]{background:var(--primary);color:white;border:none;border-radius:999px;padding:12px 24px;font-weight:700;cursor:pointer;transition:background .3s}
        .feedback-modal button[data-modal-close]:hover{background:var(--primary-dark)}
        .feedback-modal.success .modal-content{border-color:#22c55e}
        .feedback-modal.error .modal-content{border-color:#ef4444}
    </style>
</head>
<body>
    <header>
        <nav>
            <a href="index.html" class="logo"><img src="logo.svg" alt="VERTECH">VERTECH</a>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="contato.html" class="active cta-button">Contato</a></li>
            </ul>
        </nav>
    </header>

    <section class="hero">
        <div style="max-width:900px;margin:0 auto">
            <h1>Fale com a <span>Vertech</span></h1>
            <p class="subtitle">Resposta mais rapida pelo WhatsApp. Se preferir, mande email ou preencha o formulario.</p>
            <div class="hero-buttons" style="justify-content:center">
                <a href="https://wa.me/554989167594?text=Quero%20falar%20com%20a%20Vertech" class="btn-primary" target="_blank" rel="noopener">Abrir WhatsApp</a>
                <a href="#formulario" class="btn-secondary">Usar formulario</a>
            </div>
        </div>
    </section>

    <div class="feedback-modal hidden" id="feedbackModal">
        <div class="modal-content" tabindex="-1">
            <h4 class="modal-title" id="modalTitle"></h4>
            <p class="modal-message" id="modalMessage"></p>
            <button type="button" data-modal-close>Fechar</button>
        </div>
    </div>

    <section>
        <div class="contact-container">
            <div class="contact-note">Preferimos WhatsApp para responder mais rapido.</div>
            <div class="quick-actions">
                <a class="primary" href="https://wa.me/554989167594?text=Quero%20falar%20com%20a%20Vertech" target="_blank" rel="noopener">Chamar no WhatsApp</a>
                <a href="mailto:murilomn58@gmail.com">Enviar email</a>
            </div>
            <div class="contact-info">
                <div class="contact-item">
                    <img src="emailicon.jfif" alt="Icone de email" class="contact-icon">
                    <div>
                        <strong>Email</strong>
                        <a href="mailto:murilomn58@gmail.com">murilomn58@gmail.com</a>
                    </div>
                </div>
                <div class="contact-item">
                    <img src="zapicon.jfif" alt="Icone do WhatsApp" class="contact-icon">
                    <div>
                        <strong>WhatsApp</strong>
                        <a href="https://wa.me/554989167594" target="_blank" rel="noopener">+55 (49) 8916-7594</a>
                    </div>
                </div>
            </div>

            <div class="contact-info">
                <div class="contact-item">
                    <img src="fotolinkedinmurilo.jfif" alt="Murilo Miguel Narciso" class="contact-photo">
                    <div>
                        <strong>Murilo (CEO)</strong>
                        <a href="https://www.linkedin.com/in/murilonarciso/" target="_blank" rel="noopener">LinkedIn</a>
                    </div>
                </div>
                <div class="contact-item">
                    <img src="fotolinkedinjean.jfif" alt="Jean Kairo Crispim" class="contact-photo">
                    <div>
                        <strong>Jean (CTO)</strong>
                        <a href="https://www.linkedin.com/in/jean-kairo-crispim-a11312284/" target="_blank" rel="noopener">LinkedIn</a>
                    </div>
                </div>
            </div>
            
            <h3 id="formulario" style="text-align:center;margin:32px 0 16px;color:var(--primary-dark)">Ou envie pelo formulario</h3>
            
            <form onsubmit="handleSubmit(event)">
                <input type="text" name="nome" placeholder="Seu nome completo" required>
                <input type="email" name="email" placeholder="Seu melhor email" required>
                <input type="tel" name="telefone" placeholder="Telefone/WhatsApp com DDD" required>
                <input type="text" name="empresa" placeholder="Nome da sua empresa" required>
                <select name="faturamento" required>
                    <option value="">Faturamento mensal aproximado</option>
                    <option value="ate50k">Ate R$ 50 mil</option>
                    <option value="50k-100k">R$ 50 mil - R$ 100 mil</option>
                    <option value="100k-500k">R$ 100 mil - R$ 500 mil</option>
                    <option value="500k-1m">R$ 500 mil - R$ 1 milhao</option>
                    <option value="acima1m">Acima de R$ 1 milhao</option>
                </select>
                <textarea name="mensagem" placeholder="Conte-nos sobre seu maior desafio operacional" required></textarea>
                <button type="submit">Solicitar consulta</button>
            </form>
        </div>
    </section>

    <footer>
        <div style="max-width:1200px;margin:0 auto">
            <div class="footer-logo">Vertech Consultoria</div>
            <p style="opacity:0.9;margin-bottom:30px">Pesquisa aplicada, automacao e seguranca para PMEs</p>
            <div class="footer-contact">
                <a href="mailto:murilomn58@gmail.com">Email: murilomn58@gmail.com</a>
                <a href="tel:+554989167594">Telefone: +55 (49) 8916-7594</a>
                <a href="https://wa.me/554989167594" target="_blank" rel="noopener">WhatsApp: +55 (49) 8916-7594</a>
            </div>
            <div class="footer-links">
                <a href="index.html">Home</a>
                <a href="contato.html">Contato</a>
            </div>
            <div class="copyright">c 2025 Vertech Consultoria. Todos os direitos reservados.</div>
        </div>
    </footer>

    <a class="whatsapp-fab" href="https://wa.me/554989167594?text=Quero%20falar%20com%20a%20Vertech" target="_blank" rel="noopener">
        <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20.5 3.5a10.55 10.55 0 0 0-15 0 10.55 10.55 0 0 0-1.9 12.4L2 22l6.2-1.6a10.55 10.55 0 0 0 12.3-1.9 10.55 10.55 0 0 0 0-15Z"/>
                <path d="M8.5 9c0 .7.2 1.4.6 2 .3.5 1.5 2.1 3.5 3.1.3.1 1.1.5 1.6.6.4.1.8 0 1.1-.3l.7-.7c.2-.2.2-.5 0-.7l-.9-1c-.2-.2-.5-.2-.7 0l-.5.5c-.1.1-.3.1-.5.1-.2-.1-.9-.3-1.5-.8-.5-.4-.9-1-.9-1.1 0-.1 0-.2.1-.2l.5-.6c.2-.2.2-.5 0-.7l-.9-1c-.2-.2-.5-.2-.7 0L9 7.7c-.3.3-.5.8-.5 1.3Z"/>
            </svg>
        </span>
        Fale conosco
    </a>

    <script>
        const feedbackModal = document.getElementById('feedbackModal');
        const modalContent = feedbackModal.querySelector('.modal-content');
        const modalTitle = document.getElementById('modalTitle');
        const modalMessage = document.getElementById('modalMessage');

        function closeModal() {
            feedbackModal.classList.add('hidden');
            feedbackModal.classList.remove('success', 'error');
        }

        function openModal(type, title, message) {
            feedbackModal.classList.remove('hidden', 'success', 'error');
            feedbackModal.classList.add(type === 'success' ? 'success' : 'error');
            modalTitle.textContent = title;
            modalMessage.textContent = message;
            modalContent.focus();
        }

        feedbackModal.addEventListener('click', (event) => {
            if (event.target === feedbackModal) {
                closeModal();
            }
        });

        feedbackModal.querySelectorAll('[data-modal-close]').forEach((button) => {
            button.addEventListener('click', closeModal);
        });

        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape') {
                closeModal();
            }
        });

        function mapErrorMessage(error) {
            const fallback = 'Tente novamente em instantes ou fale conosco pelo WhatsApp.';
            if (!error) {
                return fallback;
            }
            const raw = (error.message || String(error)).trim();
            if (raw.toLowerCase().includes('open this page through a web server')) {
                return 'Abra o site pelo endereco publicado (ex: https://...) pois o formulario nao funciona quando o arquivo .html e aberto diretamente.';
            }
            return raw || fallback;
        }

        async function handleSubmit(e) {
            e.preventDefault();
            const form = e.target;
            const submitButton = form.querySelector('button[type="submit"]');
            const endpoint = 'https://formsubmit.co/ajax/murilomn58@gmail.com';
            const faturamentoLabels = {
                ate50k: 'Ate R$ 50 mil',
                '50k-100k': 'R$ 50 mil - R$ 100 mil',
                '100k-500k': 'R$ 100 mil - R$ 500 mil',
                '500k-1m': 'R$ 500 mil - R$ 1 milhao',
                acima1m: 'Acima de R$ 1 milhao'
            };

            submitButton.disabled = true;
            submitButton.textContent = 'Enviando...';

            const formEntries = new FormData(form);
            const faixaSelecionada = formEntries.get('faturamento');
            if (faixaSelecionada && faturamentoLabels[faixaSelecionada]) {
                formEntries.set('faturamento', faturamentoLabels[faixaSelecionada]);
            }
            formEntries.append('_subject', 'Novo contato Vertech Consultoria');
            formEntries.append('_captcha', 'false');

            try {
                const response = await fetch(endpoint, {
                    method: 'POST',
                    headers: {
                        'Accept': 'application/json'
                    },
                    body: formEntries
                });

                let result = {};
                try {
                    result = await response.json();
                } catch (parseError) {
                    throw new Error('Falha ao interpretar a resposta do servidor.');
                }

                if (!response.ok || result.success !== 'true') {
                    throw new Error(result.message || 'Falha ao enviar');
                }

                form.reset();
                openModal(
                    'success',
                    'Mensagem enviada!',
                    'Recebemos sua solicitacao. Confirme o email da FormSubmit (primeiro envio) para liberar as proximas mensagens.'
                );
            } catch (error) {
                console.error('Erro ao enviar formulario:', error);
                openModal('error', 'Nao foi possivel enviar', mapErrorMessage(error));
            } finally {
                submitButton.disabled = false;
                submitButton.textContent = 'Solicitar consulta';
            }
        }
    </script>
</body>
</html>
